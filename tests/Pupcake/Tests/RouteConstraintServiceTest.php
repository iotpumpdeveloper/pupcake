<?php
namespace Pupcake\Tests;

use Pupcake;

class RouteConstraintServiceTest extends Pupcake\TestCase
{
    //public function testExpressSimpleRequest()
    //{
        //$this->simulateRequest("get", "/api/validate/random");

        //$app = new Pupcake\Pupcake();

        //$app->getService("Pupcake\Service\RouteConstraint");

        //$app->get("api/validate/:token", function($token){
            //return $token;
        //})->constraint(array(
            //'token' => function($value){
                //return \Respect\Validation\Validator::date('Y-m-d')
                    //->between('1980-02-02', '2015-12-25')
                    //->validate($value);
            //}
        //));
        //$app->run();

        //$this->assertEquals($this->getRequestOutput(), "Invalid Request");

        //$this->simulateRequest("get", "/api/validate/2012-12-25");

        //$app = new Pupcake\Pupcake();

        //$app->getService("Pupcake\Service\RouteConstraint");

        //$app->get("api/validate/:token", function($token){
            //return $token;
        //})->constraint(array(
            //'token' => function($value){
                //return \Respect\Validation\Validator::date('Y-m-d')
                    //->between('1980-02-02', '2015-12-25')
                    //->validate($value);
            //}
        //));
        //$app->run();

        //$this->assertEquals($this->getRequestOutput(), "2012-12-25");

        //$this->simulateRequest("get", "/api/validate/1979-06-20");

        //$app = new Pupcake\Pupcake();

        //$app->getService("Pupcake\Service\RouteConstraint");

        //$app->get("api/validate/:token", function($token){
            //return $token;
        //})->constraint(array(
            //'token' => function($value){
                //return \Respect\Validation\Validator::date('Y-m-d')
                    //->between('1980-02-02', '2015-12-25')
                    //->validate($value);
            //}
        //));
        //$app->run();

        //$this->assertEquals($this->getRequestOutput(), "Invalid Request");

    //}
}
